!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).LazyLoad=n()}(this,(function(){"use strict";function t(){return(t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}var n="undefined"!=typeof window,e=n&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),i=n&&"IntersectionObserver"in window,a=n&&"classList"in document.createElement("p"),r=n&&window.devicePixelRatio>1,o={elements_selector:".lazy",container:e||n?document:null,threshold:300,thresholds:null,data_src:"src",data_src_hidpi:"src-hidpi",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},c=function(n){return t({},o,n)},l=function(t,n){var e,i="LazyLoad::Initialized",a=new t(n);try{e=new CustomEvent(i,{detail:{instance:a}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,{instance:a})}window.dispatchEvent(e)},s="loading",u="loaded",d="applied",f="error",_="native",p="data-",g="ll-status",v=function(t,n){return t.getAttribute(p+n)},h=function(t,n,e){var i=p+n;null!==e?t.setAttribute(i,e):t.removeAttribute(i)},b=function(t){return v(t,g)},m=function(t,n){return h(t,g,n)},E=function(t){return m(t,null)},I=function(t){return null===b(t)},A=function(t){return b(t)===_},y=[s,u,d,f],L=function(t,n,e,i){t&&(void 0===i?void 0===e?t(n):t(n,e):t(n,e,i))},w=function(t,n){a?t.classList.add(n):t.className+=(t.className?" ":"")+n},k=function(t,n){a?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},O=function(t){return t.llTempImage},z=function(t,n){if(n){var e=n._observer;e&&e.unobserve(t)}},C=function(t,n){t&&(t.loadingCount+=n)},N=function(t,n){t&&(t.toLoadCount=n)},x=function(t){for(var n,e=[],i=0;n=t.children[i];i+=1)"SOURCE"===n.tagName&&e.push(n);return e},M=function(t,n,e){e&&t.setAttribute(n,e)},R=function(t,n){t.removeAttribute(n)},G=function(t){return!!t.llOriginalAttrs},T=function(t){if(!G(t)){var n={};n.src=t.getAttribute("src"),n["src-hidpi"]=t.getAttribute("src-hidpi"),n.srcset=t.getAttribute("srcset"),n.sizes=t.getAttribute("sizes"),t.llOriginalAttrs=n}},D=function(t){if(G(t)){var n=t.llOriginalAttrs;M(t,"src",n.src),M(t,"src-hidpi",n["src-hidpi"]),M(t,"srcset",n.srcset),M(t,"sizes",n.sizes)}},F=function(t,n){M(t,"sizes",v(t,n.data_sizes)),M(t,"srcset",v(t,n.data_srcset));var e=v(t,n.data_src),i=v(t,n.data_src_hidpi);M(t,"src",r&&i?i:e)},V=function(t){R(t,"src"),R(t,"src-hidpi"),R(t,"srcset"),R(t,"sizes")},j=function(t,n){var e=t.parentNode;e&&"PICTURE"===e.tagName&&x(e).forEach(n)},P=function(t,n){x(t).forEach(n)},S={IMG:function(t,n){j(t,(function(t){T(t),F(t,n)})),T(t),F(t,n)},IFRAME:function(t,n){var e=v(t,n.data_src),i=v(t,n.data_src_hidpi);M(t,"src",r&&i?i:e)},VIDEO:function(t,n){P(t,(function(t){var e=v(t,n.data_src),i=v(t,n.data_src_hidpi);M(t,"src",r&&i?i:e)})),M(t,"poster",v(t,n.data_poster)),M(t,"src",v(t,n.data_src)),t.load()}},U=function(t,n){var e=S[t.tagName];e&&e(t,n)},$=function(t,n,e){C(e,1),w(t,n.class_loading),m(t,s),L(n.callback_loading,t,e)},q={IMG:function(t,n){h(t,n.data_src,null),h(t,n.data_src_hidpi,null),h(t,n.data_srcset,null),h(t,n.data_sizes,null),j(t,(function(t){h(t,n.data_srcset,null),h(t,n.data_sizes,null)}))},IFRAME:function(t,n){h(t,n.data_src,null)},VIDEO:function(t,n){h(t,n.data_src,null),h(t,n.data_src_hidpi,null),h(t,n.data_poster,null),P(t,(function(t){h(t,n.data_src,null)}))}},H=function(t,n){h(t,n.data_bg_multi,null),h(t,n.data_bg_multi_hidpi,null)},B=function(t,n){var e=q[t.tagName];e?e(t,n):function(t,n){h(t,n.data_bg,null),h(t,n.data_bg_hidpi,null)}(t,n)},J=["IMG","IFRAME","VIDEO"],K=function(t,n){!n||function(t){return t.loadingCount>0}(n)||function(t){return t.toLoadCount>0}(n)||L(t.callback_finish,n)},Q=function(t,n,e){t.addEventListener(n,e),t.llEvLisnrs[n]=e},W=function(t,n,e){t.removeEventListener(n,e)},X=function(t){return!!t.llEvLisnrs},Y=function(t){if(X(t)){var n=t.llEvLisnrs;for(var e in n){var i=n[e];W(t,e,i)}delete t.llEvLisnrs}},Z=function(t,n,e){!function(t){delete t.llTempImage}(t),C(e,-1),function(t){t&&(t.toLoadCount-=1)}(e),k(t,n.class_loading),n.unobserve_completed&&z(t,e)},tt=function(t,n,e){var i=O(t)||t;X(i)||function(t,n,e){X(t)||(t.llEvLisnrs={});var i="VIDEO"===t.tagName?"loadeddata":"load";Q(t,i,n),Q(t,"error",e)}(i,(function(a){!function(t,n,e,i){var a=A(n);Z(n,e,i),w(n,e.class_loaded),m(n,u),B(n,e),L(e.callback_loaded,n,i),a||K(e,i)}(0,t,n,e),Y(i)}),(function(a){!function(t,n,e,i){var a=A(n);Z(n,e,i),w(n,e.class_error),m(n,f),L(e.callback_error,n,i),a||K(e,i)}(0,t,n,e),Y(i)}))},nt=function(t,n,e){!function(t){t.llTempImage=document.createElement("IMG")}(t),tt(t,n,e),function(t,n,e){var i=v(t,n.data_bg),a=v(t,n.data_bg_hidpi),o=r&&a?a:i;o&&(t.style.backgroundImage='url("'.concat(o,'")'),O(t).setAttribute("src",o),$(t,n,e))}(t,n,e),function(t,n,e){var i=v(t,n.data_bg_multi),a=v(t,n.data_bg_multi_hidpi),o=r&&a?a:i;o&&(t.style.backgroundImage=o,function(t,n,e){w(t,n.class_applied),m(t,d),H(t,n),n.unobserve_completed&&z(t,n),L(n.callback_applied,t,e)}(t,n,e))}(t,n,e)},et=function(t,n,e){!function(t){return J.indexOf(t.tagName)>-1}(t)?nt(t,n,e):function(t,n,e){tt(t,n,e),U(t,n),$(t,n,e)}(t,n,e)},it=["IMG","IFRAME"],at=function(t){return t.use_native&&"loading"in HTMLImageElement.prototype},rt=function(t,n,e){t.forEach((function(t){return function(t){return t.isIntersecting||t.intersectionRatio>0}(t)?function(t,n,e,i){m(t,"entered"),function(t,n,e){n.unobserve_entered&&z(t,e)}(t,e,i),L(e.callback_enter,t,n,i),function(t){return y.indexOf(b(t))>=0}(t)||et(t,e,i)}(t.target,t,n,e):function(t,n,e,i){I(t)||(function(t,n,e,i){e.cancel_on_exit&&function(t){return b(t)===s}(t)&&"IMG"===t.tagName&&(Y(t),function(t){j(t,(function(t){V(t)})),V(t)}(t),function(t){j(t,(function(t){D(t)})),D(t)}(t),k(t,e.class_loading),C(i,-1),E(t),L(e.callback_cancel,t,n,i))}(t,n,e,i),L(e.callback_exit,t,n,i))}(t.target,t,n,e)}))},ot=function(t){return Array.prototype.slice.call(t)},ct=function(t){return t.container.querySelectorAll(t.elements_selector)},lt=function(t){return function(t){return b(t)===f}(t)},st=function(t,n){return function(t){return ot(t).filter(I)}(t||ct(n))},ut=function(t,e){var a=c(t);this._settings=a,this.loadingCount=0,function(t,n){i&&!at(t)&&(n._observer=new IntersectionObserver((function(e){rt(e,t,n)}),function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}}(t)))}(a,this),function(t,e){n&&window.addEventListener("online",(function(){!function(t,n){var e;(e=ct(t),ot(e).filter(lt)).forEach((function(n){k(n,t.class_error),E(n)})),n.update()}(t,e)}))}(a,this),this.update(e)};return ut.prototype={update:function(t){var n,a,r=this._settings,o=st(t,r);N(this,o.length),!e&&i?at(r)?function(t,n,e){t.forEach((function(t){-1!==it.indexOf(t.tagName)&&(t.setAttribute("loading","lazy"),function(t,n,e){tt(t,n,e),U(t,n),B(t,n),m(t,_)}(t,n,e))})),N(e,0)}(o,r,this):(a=o,function(t){t.disconnect()}(n=this._observer),function(t,n){n.forEach((function(n){t.observe(n)}))}(n,a)):this.loadAll(o)},destroy:function(){this._observer&&this._observer.disconnect(),ct(this._settings).forEach((function(t){delete t.llOriginalAttrs})),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var n=this,e=this._settings;st(t,e).forEach((function(t){z(t,n),et(t,e,n)}))}},ut.load=function(t,n){var e=c(n);et(t,e)},ut.resetStatus=function(t){E(t)},n&&function(t,n){if(n)if(n.length)for(var e,i=0;e=n[i];i+=1)l(t,e);else l(t,n)}(ut,window.lazyLoadOptions),ut}));
